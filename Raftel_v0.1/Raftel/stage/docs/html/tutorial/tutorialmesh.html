<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create and Open Window - Raftel Engine Tutorial</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" href="../../doxygen/resources/raftellogo.png" type="image/png">
</head>
<body>
    <header>
        <img src="../../doxygen/resources/raftellogo.png" alt="Raftel Engine Logo">
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="tutorialwindow.html">Window</a></li>
                <li><a href="tutorialtriangle.html">Triangle</a></li>
                <li><a href="tutorialinput.html">Input</a></li>
                <li><a href="tutorialmesh.html">Load Mesh</a></li>
                <!-- MÃ¡s enlaces a otros tutoriales -->
            </ul>
        </nav>
    </header> 
    <main>
      <h1>Loading and Rendering a 3D Mesh in Raftel Engine</h1>
      <p>This tutorial will guide you through the steps to load a 3D mesh, apply a texture, and render it using shaders in the Raftel Engine.</p>
      
      <h2>Prerequisites</h2>
      <p>Ensure you have the Raftel Engine installed, and you are familiar with basic C++ and 3D graphics concepts.</p>
      
      <h2>Steps to Load and Render a Mesh</h2>
      <h3>Step 1: Setup the Window</h3>
      <p>Create and initialize the window system and make it current.</p>
      <pre><code>auto windowSystemOpt = Raftel::WindowSystem::make();
auto windowOpt = Raftel::Window::make("OBJ Loader Test", *windowSystemOpt);
if (!windowOpt) {
  std::cerr &lt;&lt; "Error creating window.\n";
  return -1;
}
windowOpt-&gt;MakeContextCurrent();</code></pre>

      <h3>Step 2: Load the Mesh</h3>
      <p>Load the 3D model from an OBJ file.</p>
      <pre><code>Raftel::Mesh myModel;
if (!myModel.loadMesh("../assets/obj/luffytrial.obj")) {
  std::cerr &lt;&lt; "Error loading the initial mesh.\n";
  return -1;
}</code></pre>

      <h3>Step 3: Load and Set the Texture</h3>
      <p>Load the texture and apply it to the model.</p>
      <pre><code>auto luffy_t = Raftel::Texture::loadTexture("../assets/textures/luffytextrial.png");
auto luffy_m = std::make_shared&lt;Raftel::Material&gt;();
luffy_m-&gt;setAlbedo(luffy_t);
myModel.setMaterial(luffy_m);</code></pre>

      <h3>Step 4: Setup the Shader Program</h3>
      <p>Load and use shaders to render the model.</p>
      <pre><code>Raftel::ShaderProgram shaderProgram;
if (!shaderProgram.load("../assets/shaders/test.vs", "../assets/shaders/test.fs")) {
  std::cerr &lt;&lt; "Error loading shaders.\n";
  return -1;
}
shaderProgram.use();</code></pre>

      <h3>Step 5: Render Loop</h3>
      <p>Draw the model in a loop until the window should close, using the loaded shaders and textures.</p>
      <pre><code>while (!windowOpt-&gt;ShouldClose()) {
  windowOpt-&gt;clear();
  myModel.setUniforms(shaderProgram.GetProgramID());
  myModel.draw(shaderProgram);
  windowOpt-&gt;swapBuffers();
}</code></pre>

      <h2>Conclusion</h2>
      <p>By completing this tutorial, you have learned how to load, texture, and render a 3D mesh using the Raftel Engine, which are essential skills for any 3D game or application development.</p>
      <h2>Final Result</h2>
<p>After completing all the steps, your program should display a 3D mesh rendered with its corresponding texture. Below is an example of the expected output:</p>

<img src="../img/obj.png" alt="Rendered 3D Mesh" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);">


  </main>
  <footer>
      <p>&copy; 2025 Raftel Engine. All rights reserved.</p>
  </footer>
</body>
</html>